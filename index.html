<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>C√≥ G√¨ B√°n ƒê√≥</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">

<style>
/* --- T·ªîNG TH·ªÇ TRANG CH·ª¶ --- */
body { 
    margin:0; 
    font-family:'Poppins',sans-serif; 
    background-color: #f4f7f6; 
    color: #333; 
    transition: 0.3s; 
}

header { 
    padding: 15px 20px; 
    background: #ffffff; 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
    position: sticky; 
    top: 0; 
    z-index: 100; 
    box-shadow: 0 2px 10px rgba(0,0,0,0.05); 
}

header h1 { margin:0; color: #00acc1; font-size: 24px; }

nav { display: flex; align-items: center; }
nav a { color: #555 !important; font-weight: 500; text-decoration: none; }

.cart-icon-btn { position: relative; cursor: pointer; margin-left: 20px; }
.cart-badge { 
    position: absolute; top: -8px; right: -8px; background: #ff5252; color: white; 
    font-size: 12px; padding: 2px 6px; border-radius: 50%; font-weight: bold; 
}

.container { max-width: 1200px; margin: auto; padding: 30px; }
h2 { color: #222; font-weight: 600; }

.products { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 25px; }

.product { 
    background: #ffffff; 
    border-radius: 15px; 
    padding: 20px; 
    text-align: center; 
    transition: 0.3s; 
    display: flex; 
    flex-direction: column; 
    justify-content: space-between; 
    border: 1px solid #eee; 
    box-shadow: 0 4px 15px rgba(0,0,0,0.02);
}

.product:hover { 
    transform: translateY(-8px); 
    box-shadow: 0 10px 25px rgba(0,0,0,0.08); 
}

.img-box { 
    height: 200px; 
    display: flex; 
    align-items: center; 
    justify-content: center; 
    cursor: pointer; 
    overflow: hidden; 
    border-radius: 10px; 
    background: #f9f9f9; 
}

.product img { max-width: 90%; max-height: 90%; object-fit: contain; }
.product h3 { font-size: 15px; margin: 15px 0 5px; min-height: 45px; line-height: 1.4; color: #444; }
.product p { color: #ff5252; font-weight: 700; font-size: 18px; margin-top: 5px; }
.product button { 
    padding: 12px; border: none; border-radius: 10px; background: #00acc1; 
    color: white; cursor: pointer; width: 100%; font-weight: 600; margin-top: 10px; transition: 0.2s;
}
.product button:hover { background: #00838f; }

/* --- TRANG CHI TI·∫æT & GI·ªé H√ÄNG --- */
#detailPage, #cartPage { 
    position: fixed; inset: 0; background: #ffffff; color: #333; 
    display: none; overflow: auto; padding: 0; z-index: 9999; 
}

.page-header {
    background: #fff; padding: 15px 30px; display: flex; align-items: center;
    border-bottom: 1px solid #eee; position: sticky; top: 0; z-index: 10;
}

.back-btn { cursor: pointer; color: #00acc1; font-weight: 600; display: flex; align-items: center; gap: 5px; }

.detail-container { max-width: 1100px; margin: 30px auto; padding: 0 20px; }
.detail-box { display: flex; gap: 40px; align-items: flex-start; background: #fff; padding: 20px; flex-wrap: wrap; }

.image-section { flex: 1.2; min-width: 300px; display: flex; flex-direction: column; gap: 20px; }
#dImg { width: 100%; height: 400px; object-fit: contain; background: #fff; border: 1px solid #eee; border-radius: 15px; }
.thumb-list { display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; }
.thumb-list img { width: 65px; height: 65px; object-fit: cover; border-radius: 8px; border: 2px solid #eee; cursor: pointer; }
.thumb-list img.active { border-color: #ff5252; }

.info-section { flex: 1; min-width: 300px; display: flex; flex-direction: column; }
#dName { font-size: 24px; margin: 0 0 10px 0; color: #222; }
.price-box { font-size: 28px; color: #ff5252; font-weight: 700; margin-bottom: 20px; }

.trust-info { background: #f0fbfc; padding: 15px; border-radius: 10px; margin-bottom: 20px; border-left: 4px solid #00acc1; font-size: 13px; }

.color-group { display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 20px; }
.color-item { padding: 8px 12px; border: 1px solid #ddd; border-radius: 5px; cursor: pointer; font-size: 13px; background: #fff; }
.color-item.selected { border-color: #ff5252; color: #ff5252; background: #fff5f5; font-weight: bold; }

.qty-box { display: flex; align-items: center; gap: 15px; margin-bottom: 25px; }
.qty-box button { width: 35px; height: 35px; border: 1px solid #ddd; background: #fff; cursor: pointer; border-radius: 5px; }

.buy-box { display: flex; gap: 10px; margin-top: auto; }
.buy-box button { flex: 1; padding: 15px; font-weight: 600; cursor: pointer; border: none; border-radius: 10px; transition: 0.2s; }

.cart-container { max-width: 900px; margin: 30px auto; padding: 20px; }
.cart-table { width: 100%; border-collapse: collapse; background: #fff; border-radius: 10px; overflow: hidden; }
.cart-table th { background: #f8f8f8; padding: 15px; border-bottom: 2px solid #eee; }
.cart-table td { padding: 15px; border-bottom: 1px solid #eee; text-align: center; }
.cart-thumb { width: 50px; height: 50px; object-fit: contain; }

.contact-info { margin-top: 60px; padding: 40px; background: #fff; border-radius: 20px; text-align: center; border: 1px solid #eee; }
</style>
</head>

<body>

<header>
    <h1>C√≥ G√¨ B√°n ƒê√≥</h1>
    <nav>
      <a href="#">Trang ch·ªß</a>
      <div class="cart-icon-btn" onclick="openCartPage()">
        <svg width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="#00acc1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path></svg>
        <span class="cart-badge" id="cartBadge">0</span>
      </div>
    </nav>
</header>

<div class="container">
  <h2>S·∫£n ph·∫©m m·ªõi nh·∫•t</h2>
  <div class="products">
    
    <div class="product">
      <div class="img-box" onclick="openDetail('B√†n h·ªçc g·∫•p g·ªçn mini', 120000, [
          { color: 'V√¢n G·ªó', img: 'hinhban1.jpg' },
          { color: 'Tr·∫Øng', img: 'hinhban2.jpg' },
          { color: 'ƒêen', img: 'hinhban3.jpg' }   
      ])">
        <img src="hinhban1.jpg">
      </div>
      <h3>B√†n h·ªçc g·∫•p g·ªçn mini</h3>
      <p>120.000ƒë</p>
      <button onclick="addCart('B√†n h·ªçc g·∫•p g·ªçn mini', 120000, 1, 'V√¢n G·ªó', 'hinhban1.jpg')">Mua nhanh</button>
    </div>

    <div class="product">
        <div class="img-box" onclick="openDetail('N·ªìi Inox Cao C·∫•p 2 Quai 18cm', 185000, [
            { color: 'Inox S√°ng B√≥ng', img: 'hinhnoi.jpg' }
        ])">
          <img src="hinhnoi.jpg">
        </div>
        <h3>N·ªìi Inox Cao C·∫•p 2 Quai 18cm</h3>
        <p>185.000ƒë</p>
        <button onclick="addCart('N·ªìi Inox Cao C·∫•p 2 Quai', 185000, 1, 'Inox S√°ng B√≥ng', 'hinhnoi.jpg')">Mua nhanh</button>
    </div>

    <div class="product">
        <div class="img-box" onclick="openDetail('N·ªìi c∆°m ƒëi·ªán Sunhouse 1.8L', 850000, [
            { color: 'ƒê·ªè Tr·∫Øng', img: 'hinhnoicom.jpg' }
        ])">
          <img src="hinhnoicom.jpg">
        </div>
        <h3>N·ªìi c∆°m ƒëi·ªán Sunhouse 1.8L</h3>
        <p>850.000ƒë</p>
        <button onclick="addCart('N·ªìi c∆°m ƒëi·ªán Sunhouse', 850000, 1, 'M·∫∑c ƒë·ªãnh', 'hinhnoicom.jpg')">Mua nhanh</button>
    </div>

    <div class="product">
        <div class="img-box" onclick="openDetail('[ Chai 1L ] D·∫ßu ƒÉn Simply, Neptune', 90000, [
            { color: 'Simply ƒê·∫≠u N√†nh 1L', img: 'hinhchaidau.jpg' },
            { color: 'Simply G·∫°o L·ª©t 1L', img: 'hinhchaidau1.jpg' },
            { color: 'Neptune Light 1L', img: 'hinhchaidau2.jpg' }
        ])">
          <img src="hinhchaidau.jpg">
        </div>
        <h3>[ Chai 1L ] D·∫ßu ƒÉn Simply ƒê·∫≠u N√†nh, Simply G·∫°o L·ª©t, Neptune Light</h3>
        <p>90.000ƒë</p>
        <button onclick="addCart('[ Chai 1L ] D·∫ßu ƒÉn', 90000, 1, 'Simply ƒê·∫≠u N√†nh 1L', 'hinhchaidau.jpg')">Mua nhanh</button>
    </div>

  </div>

  <div class="contact-info">
    <h2>Th√¥ng Tin Li√™n H·ªá</h2>
    <p>üìû Hotline / Zalo: <strong>036 797 4619</strong></p>
  </div>
</div>

<div id="detailPage">
  <div class="page-header">
    <div class="back-btn" onclick="closePage('detailPage')">‚Üê QUAY L·∫†I TRANG CH·ª¶</div>
  </div>
  <div class="detail-container">
    <div class="detail-box">
        <div class="image-section">
            <img id="dImg">
            <div id="thumbList" class="thumb-list"></div>
        </div>
        <div class="info-section">
            <h2 id="dName"></h2>
            <div class="price-box" id="dPrice"></div>
            <div class="trust-info">
                <div>üöö V·∫≠n chuy·ªÉn: 20.000ƒë</div>
                <div>üéÅ <b>Mi·ªÖn ph√≠ v·∫≠n chuy·ªÉn</b> t·ª´ 150.000ƒë</div>
                <div>üõ°Ô∏è <b>Ki·ªÉm tra h√†ng</b> tr∆∞·ªõc khi tr·∫£ ti·ªÅn</div>
            </div>
            <div id="optionTitle" style="font-weight:600; margin-bottom:10px; font-size: 14px;">Ch·ªçn lo·∫°i s·∫£n ph·∫©m:</div>
            <div id="colorGroup" class="color-group"></div>
            <div style="font-weight:600; margin-bottom:10px; font-size: 14px;">S·ªë l∆∞·ª£ng:</div>
            <div class="qty-box">
              <button onclick="changeQty(-1)">-</button>
              <span id="qty" style="font-weight: bold; font-size: 18px;">1</span>
              <button onclick="changeQty(1)">+</button>
            </div>
            <div class="buy-box">
              <button onclick="addDetailCart()" style="background:#e0f7f9; color:#00acc1; border: 1px solid #00acc1;">TH√äM V√ÄO GI·ªé</button>
              <button onclick="buyNow()" style="background:#ff5252; color:white">MUA NGAY</button>
            </div>
        </div>
    </div>
  </div>
</div>

<div id="cartPage">
    <div class="page-header">
        <div class="back-btn" onclick="closePage('cartPage')">‚Üê TI·∫æP T·ª§C MUA S·∫ÆM</div>
    </div>
    <div class="cart-container">
        <h2 style="border-bottom: 2px solid #00acc1; padding-bottom: 10px;">Gi·ªè h√†ng c·ªßa b·∫°n</h2>
        <table class="cart-table">
            <thead>
                <tr>
                    <th>H√¨nh</th>
                    <th>S·∫£n ph·∫©m</th>
                    <th>Gi√°</th>
                    <th>S·ªë l∆∞·ª£ng</th>
                    <th>Ng√†y ƒë·∫∑t</th>
                </tr>
            </thead>
            <tbody id="cartList"></tbody>
        </table>
        <h3 id="totalPrice" style="text-align: right; margin-top: 20px; font-size: 24px;">T·ªïng ti·ªÅn: 0ƒë</h3>
        <div style="text-align: right; margin-top: 20px;">
            <button onclick="alert('C·∫£m ∆°n b·∫°n! Ch√∫ng t√¥i s·∫Ω li√™n h·ªá x√°c nh·∫≠n ƒë∆°n h√†ng qua Zalo.')" style="padding: 15px 40px; background: #00acc1; border: none; border-radius: 10px; color:white; font-weight: 600; cursor: pointer;">THANH TO√ÅN NGAY</button>
        </div>
    </div>
</div>

<script>
let cart = [];
let currentProduct = {};
let selectedVariant = null; 

function openDetail(name, price, variants) {
    dName.innerText = name;
    dPrice.innerText = price.toLocaleString() + "ƒë";
    qty.innerText = 1;
    currentProduct = { name, price, variants };
    
    colorGroup.innerHTML = "";
    thumbList.innerHTML = "";

    // Ki·ªÉm tra n·∫øu t·∫•t c·∫£ color ƒë·ªÅu r·ªóng (kh√¥ng c√≥ ph√¢n lo·∫°i)
    let isSingleType = variants.length === 1 && variants[0].color === "";

    if (isSingleType) {
        document.getElementById('optionTitle').style.display = "none";
        colorGroup.style.display = "none";
    } else {
        document.getElementById('optionTitle').style.display = "block";
        colorGroup.style.display = "flex";
        variants.forEach((v, index) => {
            colorGroup.innerHTML += `<div class="color-item" id="color-${index}" onclick="selectVariant(${index})">${v.color}</div>`;
        });
    }

    if (variants.length > 1) {
        thumbList.style.display = "flex";
        variants.forEach((v, index) => {
            thumbList.innerHTML += `<img src="${v.img}" id="thumb-${index}" onclick="selectVariant(${index})">`;
        });
    } else {
        thumbList.style.display = "none";
    }

    selectVariant(0);
    detailPage.style.display = "block";
    document.body.style.overflow = "hidden";
}

function selectVariant(index) {
    selectedVariant = currentProduct.variants[index];
    dImg.src = selectedVariant.img;
    
    document.querySelectorAll('.thumb-list img').forEach(el => el.classList.remove('active'));
    if(document.getElementById(`thumb-${index}`)) document.getElementById(`thumb-${index}`).classList.add('active');

    document.querySelectorAll('.color-item').forEach(el => el.classList.remove('selected'));
    if(document.getElementById(`color-${index}`)) document.getElementById(`color-${index}`).classList.add('selected');
}

function closePage(id) { 
    document.getElementById(id).style.display = "none"; 
    document.body.style.overflow = "auto"; 
}

function openCartPage() {
    renderCart();
    cartPage.style.display = "block";
    document.body.style.overflow = "hidden";
}

function changeQty(n) {
    let q = parseInt(qty.innerText) + n;
    if(q < 1) q = 1;
    qty.innerText = q;
}

function addCart(name, price, quantity = 1, color = "", image = "") {
    let fullName = color && color !== "M·∫∑c ƒë·ªãnh" ? `${name} (${color})` : name;
    let item = cart.find(p => p.name === fullName);
    if(item) {
        item.qty += quantity;
    } else {
        cart.push({ 
            name: fullName, 
            price: price, 
            qty: quantity, 
            img: image,
            date: new Date().toLocaleDateString("vi-VN") 
        });
    }
    updateBadge();
    alert("ƒê√£ th√™m v√†o gi·ªè h√†ng!");
}

function addDetailCart() {
    addCart(currentProduct.name, currentProduct.price, parseInt(qty.innerText), selectedVariant.color, selectedVariant.img);
}

function buyNow() {
    addDetailCart();
    closePage('detailPage');
    openCartPage();
}

function updateBadge() {
    let count = cart.reduce((total, item) => total + item.qty, 0);
    cartBadge.innerText = count;
}

function renderCart() {
    let total = 0;
    cartList.innerHTML = "";
    if (cart.length === 0) {
        cartList.innerHTML = "<tr><td colspan='5'>Gi·ªè h√†ng tr·ªëng</td></tr>";
    } else {
        cart.forEach(p => {
            total += p.price * p.qty;
            cartList.innerHTML += `
                <tr>
                    <td><img src="${p.img}" class="cart-thumb"></td>
                    <td>${p.name}</td>
                    <td>${p.price.toLocaleString()}ƒë</td>
                    <td>${p.qty}</td>
                    <td>${p.date}</td>
                </tr>`;
        });
    }
    totalPrice.innerText = "T·ªïng ti·ªÅn: " + total.toLocaleString() + "ƒë";
}
</script>

</body>
</html>